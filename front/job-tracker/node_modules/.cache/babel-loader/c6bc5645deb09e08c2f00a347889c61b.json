{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/tony/Desktop/JobTracker/front/job-tracker/src/components/job/ListJobComponent.jsx\";\nimport React, { Component } from \"react\";\nimport JobsDataService from \"../../api/job/JobsDataService.js\";\nimport AuthenticationService from \"./AuthenticationService.js\";\nimport moment from \"moment\";\n\nclass ListJobsComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      jobs: [],\n      message: null\n    };\n    this.deleteJobClicked = this.deleteJobClicked.bind(this);\n    this.refreshJobTable = this.refreshJobTable.bind(this);\n  }\n\n  componentDidMount() {\n    this.refreshJobTable();\n    console.log(this.state);\n  }\n\n  refreshJobTable() {\n    let username = AuthenticationService.getLoggedInUserName();\n    JobsDataService.retrieveAllJobs(username).then(response => {\n      this.setState({\n        jobs: response.data\n      });\n    });\n  }\n\n  deleteJobClicked(id) {\n    let username = AuthenticationService.getLoggedInUserName();\n    JobsDataService.deleteJob(username, id).then(response => {\n      this.setState({\n        message: `deletion of job ${id} Successful`\n      });\n      this.refreshJobTable();\n    });\n  }\n\n  updateJobClicked(id) {\n    this.props.history.push(`/jobs/${id}`); // let username = AuthenticationService.getLoggedInUserName();\n    // JobsDataService.deleteJob(username, id).then(response => {\n    //  this.setState({message:`deletion of job ${id} Successful`})\n    //  this.refreshJobTable()\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Jobs\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), this.state.message && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-success\",\n        children: this.state.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 28\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Job Title\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Company\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Link\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Notes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Update\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: this.state.jobs.map(job => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: job.jobTitle\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: job.company\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: job.webLink\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: job.status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: moment(job.appliedDate).format(\"YYYY-MM-DD\")\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: job.notes\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-success\",\n                  onClick: () => this.updateJobClicked(job.id),\n                  children: \"Update\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 79,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-warning\",\n                  onClick: () => this.deleteJobClicked(job.id),\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 87,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 19\n              }, this)]\n            }, job.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default ListJobsComponent;","map":{"version":3,"sources":["/Users/tony/Desktop/JobTracker/front/job-tracker/src/components/job/ListJobComponent.jsx"],"names":["React","Component","JobsDataService","AuthenticationService","moment","ListJobsComponent","constructor","props","state","jobs","message","deleteJobClicked","bind","refreshJobTable","componentDidMount","console","log","username","getLoggedInUserName","retrieveAllJobs","then","response","setState","data","id","deleteJob","updateJobClicked","history","push","render","map","job","jobTitle","company","webLink","status","appliedDate","format","notes"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport JobsDataService from \"../../api/job/JobsDataService.js\";\nimport AuthenticationService from \"./AuthenticationService.js\";\nimport moment from \"moment\";\n\nclass ListJobsComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      jobs: [],\n      message : null\n    };\n\n    this.deleteJobClicked = this.deleteJobClicked.bind(this);\n    this.refreshJobTable = this.refreshJobTable.bind(this);\n  }\n\n  componentDidMount() {\n    this.refreshJobTable()\n    console.log(this.state)\n  }\n\n  refreshJobTable(){\n    let username = AuthenticationService.getLoggedInUserName();\n    JobsDataService.retrieveAllJobs(username).then((response) => {\n      this.setState({ jobs: response.data });\n    });\n  }\n\n  deleteJobClicked(id) {\n    let username = AuthenticationService.getLoggedInUserName();\n    JobsDataService.deleteJob(username, id).then(response => {\n     this.setState({message:`deletion of job ${id} Successful`})\n     this.refreshJobTable()\n    })\n  }\n\n  updateJobClicked(id) {\n    this.props.history.push(`/jobs/${id}`);\n\n    // let username = AuthenticationService.getLoggedInUserName();\n    // JobsDataService.deleteJob(username, id).then(response => {\n    //  this.setState({message:`deletion of job ${id} Successful`})\n    //  this.refreshJobTable()\n    }\n  \n\n  render() {\n    return (\n      <div>\n        <h1>Jobs</h1>\n    {this.state.message && <div className= \"alert alert-success\">{this.state.message}</div>}\n\n        <div className=\"container\">\n          <table className=\"table\">\n            <thead>\n              <tr>\n                <th>Job Title</th>\n                <th>Company</th>\n                <th>Link</th>\n                <th>Status</th>\n                <th>Date</th>\n                <th>Notes</th>\n                <th>Update</th>\n                <th>Delete</th>\n              </tr>\n            </thead>\n            <tbody>\n              {this.state.jobs.map((job) => (\n                <tr key={job.id}>\n                  <td>{job.jobTitle}</td>\n                  <td>{job.company}</td>\n                  <td>{job.webLink}</td>\n                  <td>{job.status}</td>\n                  <td>{moment(job.appliedDate).format(\"YYYY-MM-DD\")}</td>\n                  <td>{job.notes}</td>\n\n                  <td>\n                  <button\n                      className=\"btn btn-success\"\n                      onClick={() => this.updateJobClicked(job.id)}\n                    >\n                      Update\n                    </button>\n                  </td>\n                  <td>\n                    <button\n                      className=\"btn btn-warning\"\n                      onClick={() => this.deleteJobClicked(job.id)}\n                    >\n                      Delete\n                    </button>\n                  </td>\n                  <td></td>\n                  <td></td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n\n          <div className=\"row\">\n            <button className></button>\n\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ListJobsComponent;\n"]},"metadata":{},"sourceType":"module"}